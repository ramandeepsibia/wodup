{% comment %}
  @param add_to_cart_text {string}
    Sets the button text for the Product button

  @param id {number}
    Sets the ID of the JSON fields for ProduceView to parse

  @param section_onboarding {boolean}
    Used to prevent onboarding content from activating ProductView

  @param enable_history {boolean}
    Used to allow deeplinking on product variants
{% endcomment %}

{% unless id %}
  {% assign id = product.id %}
{% endunless %}

<script type="application/json" data-product-settings-{{ id }}>
  {
    "addToCartText": {{ add_to_cart_text | json }},
    "enableHistory": {{ enable_history | json }},
    "linkedOptions": false,
    "processingText": {{ 'products.product.processing' | t | json }},
    "setQuantityText": {{ 'products.product.set_quantity' | t | json }},
    "soldOutText": {{ 'products.product.sold_out' | t | json }},
    "unavailableText": {{ 'products.product.unavailable' | t | json }}
  }
</script>

{% unless section_onboarding %}
  <script type="application/json" data-product-json-{{ id }}>{{ product | json }}</script>
{% endunless %}